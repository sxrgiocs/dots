#! /bin/sh

sxhkd &

########################################################################
#                            M O N I T O R S                           #
########################################################################

xrandr --output DP-1 --primary --right-of eDP-1 &

HDMI-1=HDMI-1 connected 1600x900+1920+0 (normal left inverted right x axis y axis) 443mm x 249mm 
DP-1 = HDMI-1 connected 1600x900+1920+0 (normal left inverted right x axis y axis) 443mm x 249mm
bspc subscribe monitor | while read -r line; do
  case $line in
      monitor_add*|monitor_geometry*)
        if [ "$(bspc query -M | wc -l)" -eq "2" ]; then
          bspc monitor DP-1 -d HOME WEB DEV NOTES FILES CHAT MUSIC
          bspc monitor eDP-1 -d HOME ALT ALT

	elif [ "$(xrandr | grep HDMI-1)" -eq "HDMI-1" ]; then
          bspc monitor HDMI-1 -d HOME WEB DEV NOTES FILES CHAT MUSIC
          bspc monitor eDP-1 -d HOME ALT ALT

        else
          bspc monitor -d HOME WEB DEV NOTES FILES ALT ALT ALT CHAT MUSIC
        fi
        ;;
      *)
      ;;
  esac
done &

#bspc wm --adopt-orphans

bspc config remove_disabled_monitors    true
bspc config remove_unplugged_monitors   true

########################################################################
#                           A U T O S T A R T                          #
########################################################################

wmname LG3D &
~/.config/polybar/launch.sh &

########################################################################
#                         A P P E A R A N C E                          #
########################################################################

bspc config border_width         2
bspc config window_gap           5
#bspc config top_padding          27

bspc config normal_border_color "#44475a"
bspc config active_border_color "#bd93f9"
bspc config focused_border_color "#8591ff"
bspc config presel_feedback_color "#6272a4"

mark-ovredir-focused = false

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true

########################################################################
#                              R U L E S                               #
########################################################################

bspc rule -a Gimp desktop='^8' state=floating follow=on
bspc rule -a spotify desktop='^10'
bspc rule -a mplayer2 state=floating
bspc rule -a Kupfer.py focus=on
bspc rule -a Screenkey manage=off

bspc config pointer_modifier mod1
bspc config pointer_action1 move
bspc config pointer_action2 resize_corner
